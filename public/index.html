<!-- public/index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Media Trigger App</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div id="global-drop-zone" class="hidden">Drop files here</div>
  <div id="move-bar">‚á± Move</div>
  
  <!-- Component Visibility Dropdown -->
  <div id="visibility-dropdown" class="visibility-dropdown">
    <button id="visibility-toggle" class="visibility-toggle-btn">‚öôÔ∏è Components</button>
    <div id="visibility-menu" class="visibility-menu hidden">
      <div class="visibility-header">Show/Hide Components</div>
      <label class="visibility-item">
        <input type="checkbox" id="toggle-sound-grid" checked> Sound Grid
      </label>
      <label class="visibility-item">
        <input type="checkbox" id="toggle-twitch-stats" checked> Twitch Statistics
      </label>
      <label class="visibility-item">
        <input type="checkbox" id="toggle-recent-activity" checked> Recent Activity
      </label>
      <label class="visibility-item">
        <input type="checkbox" id="toggle-twitch-chat" checked> Twitch Chat
      </label>
      <label class="visibility-item">
        <input type="checkbox" id="toggle-sound-controls" checked> Sound Controls
      </label>
      <label class="visibility-item">
        <input type="checkbox" id="toggle-move-bar" checked> Move Bar
      </label>
      <div class="visibility-actions">
        <button id="hide-all-components" class="visibility-action-btn">Hide All</button>
        <button id="show-all-components" class="visibility-action-btn">Show All</button>
      </div>
    </div>
  </div>
  
  <div class="container">
    <img src="logo.png" alt="Virtual Deck Logo" class="app-logo" />
    <div class="hotkey-info">
      <strong>Numpad Currently Not supported</strong>
    </div>
    <button id="twitch-connect" class="twitch-btn"></button>
    <button id="close-app" class="close-app-btn">‚úï</button>
    
    <!-- Main Content Area -->
    <!-- Twitch Statistics Display -->
    <div id="twitch-stats-container" class="hidden">
      <div class="stats-grid">
        <div class="stat-item" data-stat="viewers">
          <div class="stat-content">
            <div class="stat-label">Viewers</div>
            <div class="stat-value" id="viewer-count">-</div>
          </div>
        </div>
        <div class="stat-item" data-stat="followers">
          <div class="stat-content">
            <div class="stat-label">Followers</div>
            <div class="stat-value" id="follower-count">-</div>
          </div>
        </div>
        <div class="stat-item" data-stat="subscribers">
          <div class="stat-content">
            <div class="stat-label">Subscribers</div>
            <div class="stat-value" id="subscriber-count">-</div>
          </div>
        </div>
        <div class="stat-item" data-stat="subpoints">
          <div class="stat-content">
            <div class="stat-label">Sub Points</div>
            <div class="stat-value" id="sub-points">-</div>
          </div>
        </div>
      </div>
    </div>

    <!-- Recent Activity Display -->
    <div id="recent-activity-container" class="hidden">
      <div class="recent-activity-simple">
        <div class="recent-item-simple">
          <div class="recent-label">Latest Follower:</div>
          <div class="recent-value" id="latest-follower">-</div>
        </div>
        <div class="recent-item-simple">
          <div class="recent-label">Latest Subscriber:</div>
          <div class="recent-value" id="latest-subscriber">-</div>
        </div>
      </div>
    </div>

    <div id="sound-controls" class="sound-controls">
      <button id="toggle-drag-mode" class="drag-toggle-btn" title="Toggle Drag Mode">
        üîí Lock
      </button>
      <span class="drag-status">Sound buttons are locked</span>
    </div>
    
    <div class="main-content">
      <div id="sound-grid"></div>
      <!-- Removed static Add Sound card -->
      
      <!-- Twitch Chat Display -->
      <div id="twitch-chat-container">
        <div class="chat-header">
        <div class="chat-title-section">
          <span class="chat-title">Twitch Chat</span>
          <div id="chat-status-indicator" class="status-indicator" title="Checking connection..."></div>
        </div>
        <div class="chat-controls">
          <button id="toggle-chat" class="toggle-chat-btn">‚àí</button>
        </div>
        </div>
        <div id="twitch-chat-messages" class="chat-messages"></div>
      </div>
    </div>
  </div>

  <div id="settings-modal" class="hidden">
    <div class="modal-content">
      <h2>Add New Trigger</h2>
      <form id="settings-form">
        <label for="label-input">Label:</label>
        <input type="text" id="label-input" name="label" required />
        <label>Type:
          <select name="type" id="type-select">
            <option value="audio">Audio</option>
            <!-- <option value="app">App</option> -->
          </select>
        </label><br>
        <label>Hotkey: 
          <input type="text" name="hotkey" id="hotkey-input" placeholder="Press any key or combination with Ctrl, Alt, Shift | Ex: 'Ctrl + F1'" readonly />
          <button type="button" id="record-hotkey">Record Hotkey</button>
          <div id="hotkey-status"></div>
          <!-- modifier checkboxes removed ‚Äî recorder captures modifiers live -->
        </label><br>
        <div id="audio-file-section">
          <label>File:
            <input type="file" name="file" id="file-input" required />
            <div id="drop-zone">or drag file here</div>
          </label>
        </div>
        <div id="app-file-section" style="display:none;">
          <label>App File:
            <input type="file" name="app-file" id="app-file-input" accept=".exe,.bat,.cmd,.lnk,.app,.sh,.desktop" required />
          </label>
        </div>
        <button type="submit" id="save-sound">Save</button>
        <button type="button" id="close-settings">Cancel</button>
      </form>
    </div>
  </div>
  <script src="script.js"></script>
  <script src="../TwitchConnected/tc.js"></script>
</body>
</html> 
